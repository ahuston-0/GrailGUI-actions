\hypertarget{Button_8hh_source}{}\doxysection{Button.\+hh}
\label{Button_8hh_source}\index{src/opengl/inputs/Button.hh@{src/opengl/inputs/Button.hh}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001 \textcolor{preprocessor}{\#include <algorithm>}}
\DoxyCodeLine{00002 }
\DoxyCodeLine{00003 \textcolor{preprocessor}{\#include "{}opengl/Rectangle.hh"{}}}
\DoxyCodeLine{00004 }
\DoxyCodeLine{\Hypertarget{Button_8hh_source_l00005}\mbox{\hyperlink{classButton}{00005}} \textcolor{keyword}{class }\mbox{\hyperlink{classButton}{Button}} : \textcolor{keyword}{public} \mbox{\hyperlink{classRectangle}{Rectangle}} \{}
\DoxyCodeLine{00006  \textcolor{keyword}{private}:}
\DoxyCodeLine{00007   \textcolor{keywordtype}{bool} isPressed = \textcolor{keyword}{false};}
\DoxyCodeLine{00008   std::vector<Vector> color;}
\DoxyCodeLine{00009   \textcolor{keywordtype}{int} count = 0;}
\DoxyCodeLine{00010   uint32\_t cbo;}
\DoxyCodeLine{00011 }
\DoxyCodeLine{00012  \textcolor{keyword}{public}:}
\DoxyCodeLine{00013   \mbox{\hyperlink{classButton}{Button}}(\textcolor{keywordtype}{float} x, \textcolor{keywordtype}{float} y, \textcolor{keywordtype}{float} width, \textcolor{keywordtype}{float} height)}
\DoxyCodeLine{00014       : \mbox{\hyperlink{classRectangle}{Rectangle}}(x, y, width, height, GL\_TRIANGLE\_STRIP), color() \{}
\DoxyCodeLine{00015     \textcolor{comment}{// colors by vertices}}
\DoxyCodeLine{00016     color.push\_back(*\textcolor{keyword}{new} Vector(0.5, 0.5, 0.5));}
\DoxyCodeLine{00017     color.push\_back(*\textcolor{keyword}{new} Vector(0.5, 0.5, 0.5));}
\DoxyCodeLine{00018     color.push\_back(*\textcolor{keyword}{new} Vector(0.9, 0.9, 0.9));}
\DoxyCodeLine{00019     color.push\_back(*\textcolor{keyword}{new} Vector(0.9, 0.9, 0.9));}
\DoxyCodeLine{00020   \}}
\DoxyCodeLine{00021 }
\DoxyCodeLine{00022   \textcolor{keywordtype}{void} init() \{}
\DoxyCodeLine{00023     \textcolor{comment}{// Create VAO}}
\DoxyCodeLine{00024     glGenVertexArrays(1, \&vao);}
\DoxyCodeLine{00025     glBindVertexArray(vao);}
\DoxyCodeLine{00026 }
\DoxyCodeLine{00027     \textcolor{comment}{// Create EBO}}
\DoxyCodeLine{00028     glGenBuffers(1, \&ebo);}
\DoxyCodeLine{00029     glBindBuffer(GL\_ELEMENT\_ARRAY\_BUFFER, ebo);}
\DoxyCodeLine{00030     glBufferData(GL\_ELEMENT\_ARRAY\_BUFFER, \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int}) * indices.size(),}
\DoxyCodeLine{00031                  \&indices[0], GL\_STATIC\_DRAW);}
\DoxyCodeLine{00032     glBindBuffer(GL\_ELEMENT\_ARRAY\_BUFFER, 0);}
\DoxyCodeLine{00033 }
\DoxyCodeLine{00034     \textcolor{comment}{// Create VBO}}
\DoxyCodeLine{00035     glGenBuffers(1, \&vbo);}
\DoxyCodeLine{00036     glBindBuffer(GL\_ARRAY\_BUFFER, vbo);}
\DoxyCodeLine{00037     glBufferData(GL\_ARRAY\_BUFFER, \textcolor{keyword}{sizeof}(GLfloat) * vertices.size() * 3,}
\DoxyCodeLine{00038                  \&vertices[0], GL\_STATIC\_DRAW);}
\DoxyCodeLine{00039     \textcolor{comment}{// Points}}
\DoxyCodeLine{00040     glVertexAttribPointer(0, 3, GL\_FLOAT, GL\_FALSE, 0, (\textcolor{keywordtype}{void}*)0);}
\DoxyCodeLine{00041     glBindBuffer(GL\_ARRAY\_BUFFER, 0);}
\DoxyCodeLine{00042 }
\DoxyCodeLine{00043     glGenBuffers(1, \&cbo);}
\DoxyCodeLine{00044     glBindBuffer(GL\_ARRAY\_BUFFER, cbo);}
\DoxyCodeLine{00045     glBufferData(GL\_ARRAY\_BUFFER, \textcolor{keyword}{sizeof}(GLfloat) * 4 * 3, \&color[0],}
\DoxyCodeLine{00046                  GL\_STATIC\_DRAW);}
\DoxyCodeLine{00047     glVertexAttribPointer(1, 3, GL\_FLOAT, GL\_FALSE, 0, (\textcolor{keywordtype}{void}*)0);}
\DoxyCodeLine{00048 }
\DoxyCodeLine{00049     \textcolor{comment}{// Unbind vbo}}
\DoxyCodeLine{00050     glBindBuffer(GL\_ARRAY\_BUFFER, 0);}
\DoxyCodeLine{00051     glBindVertexArray(0);}
\DoxyCodeLine{00052     glEnableVertexAttribArray(0);}
\DoxyCodeLine{00053   \}}
\DoxyCodeLine{00054 }
\DoxyCodeLine{00055   \textcolor{keywordtype}{void} updateButton() \{}
\DoxyCodeLine{00056     std::reverse(color.begin(), color.end());}
\DoxyCodeLine{00057     glBindVertexArray(vao);}
\DoxyCodeLine{00058     glBindBuffer(GL\_ARRAY\_BUFFER, cbo);}
\DoxyCodeLine{00059     glBufferData(GL\_ARRAY\_BUFFER, \textcolor{keyword}{sizeof}(GLfloat) * 4 * 3, \&color[0],}
\DoxyCodeLine{00060                  GL\_STATIC\_DRAW);}
\DoxyCodeLine{00061   \}}
\DoxyCodeLine{00062 }
\DoxyCodeLine{00063   \textcolor{keywordtype}{void} render() \{}
\DoxyCodeLine{00064     \textcolor{keywordflow}{if} (count == 100) \{}
\DoxyCodeLine{00065       updateButton();}
\DoxyCodeLine{00066       count = 0;}
\DoxyCodeLine{00067       \textcolor{comment}{//  std::cout<<"{}flip"{}<<std::endl;}}
\DoxyCodeLine{00068     \}}
\DoxyCodeLine{00069     count++;}
\DoxyCodeLine{00070 }
\DoxyCodeLine{00071     shader.use();}
\DoxyCodeLine{00072     applyTransform();}
\DoxyCodeLine{00073     glBindVertexArray(vao);}
\DoxyCodeLine{00074     glEnableVertexAttribArray(0);}
\DoxyCodeLine{00075     glEnableVertexAttribArray(1);}
\DoxyCodeLine{00076 }
\DoxyCodeLine{00077     glBindBuffer(GL\_ELEMENT\_ARRAY\_BUFFER, ebo);}
\DoxyCodeLine{00078     glDrawElements(mode, indices.size(), GL\_UNSIGNED\_INT, 0);}
\DoxyCodeLine{00079 }
\DoxyCodeLine{00080     glDisableVertexAttribArray(0);}
\DoxyCodeLine{00081     glDisableVertexAttribArray(1);}
\DoxyCodeLine{00082     glBindVertexArray(0);}
\DoxyCodeLine{00083   \}}
\DoxyCodeLine{00084 \};}

\end{DoxyCode}

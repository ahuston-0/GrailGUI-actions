\hypertarget{Button_8hh_source}{}\doxysection{Button.\+hh}
\label{Button_8hh_source}\index{src/opengl/inputs/Button.hh@{src/opengl/inputs/Button.hh}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001 \textcolor{preprocessor}{\#include <algorithm>}}
\DoxyCodeLine{00002 \textcolor{preprocessor}{\#include "{}opengl/Rectangle.hh"{}}}
\DoxyCodeLine{00003 }
\DoxyCodeLine{\Hypertarget{Button_8hh_source_l00004}\mbox{\hyperlink{classButton}{00004}} \textcolor{keyword}{class }\mbox{\hyperlink{classButton}{Button}} : \textcolor{keyword}{public} \mbox{\hyperlink{classRectangle}{Rectangle}}\{}
\DoxyCodeLine{00005 \textcolor{keyword}{private}:}
\DoxyCodeLine{00006   \textcolor{keywordtype}{bool} isPressed = \textcolor{keyword}{false};}
\DoxyCodeLine{00007   std::vector<Vector> color;}
\DoxyCodeLine{00008   \textcolor{keywordtype}{int} count = 0;}
\DoxyCodeLine{00009   uint32\_t cbo;}
\DoxyCodeLine{00010 \textcolor{keyword}{public}:}
\DoxyCodeLine{00011   \mbox{\hyperlink{classButton}{Button}}(\textcolor{keywordtype}{float} x,\textcolor{keywordtype}{float} y,\textcolor{keywordtype}{float} width,\textcolor{keywordtype}{float} height):}
\DoxyCodeLine{00012     \mbox{\hyperlink{classRectangle}{Rectangle}}(x,y,width,height,GL\_TRIANGLE\_STRIP),color()\{}
\DoxyCodeLine{00013       \textcolor{comment}{//colors by vertices}}
\DoxyCodeLine{00014       color.push\_back(*\textcolor{keyword}{new} Vector(0.5,0.5,0.5));}
\DoxyCodeLine{00015       color.push\_back(*\textcolor{keyword}{new} Vector(0.5,0.5,0.5));}
\DoxyCodeLine{00016       color.push\_back(*\textcolor{keyword}{new} Vector(0.9,0.9,0.9));}
\DoxyCodeLine{00017       color.push\_back(*\textcolor{keyword}{new} Vector(0.9,0.9,0.9));}
\DoxyCodeLine{00018     \}}
\DoxyCodeLine{00019 }
\DoxyCodeLine{00020   \textcolor{keywordtype}{void} init()  \{}
\DoxyCodeLine{00021     \textcolor{comment}{//Create VAO}}
\DoxyCodeLine{00022     glGenVertexArrays(1,\&vao);}
\DoxyCodeLine{00023     glBindVertexArray(vao);}
\DoxyCodeLine{00024 }
\DoxyCodeLine{00025     \textcolor{comment}{//Create EBO}}
\DoxyCodeLine{00026     glGenBuffers(1,\&ebo);}
\DoxyCodeLine{00027     glBindBuffer(GL\_ELEMENT\_ARRAY\_BUFFER,ebo);}
\DoxyCodeLine{00028     glBufferData(GL\_ELEMENT\_ARRAY\_BUFFER, \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int})*indices.size(),\&indices[0],GL\_STATIC\_DRAW);}
\DoxyCodeLine{00029     glBindBuffer(GL\_ELEMENT\_ARRAY\_BUFFER,0);}
\DoxyCodeLine{00030 }
\DoxyCodeLine{00031     \textcolor{comment}{//Create VBO}}
\DoxyCodeLine{00032     glGenBuffers(1,\&vbo);}
\DoxyCodeLine{00033     glBindBuffer(GL\_ARRAY\_BUFFER,vbo);}
\DoxyCodeLine{00034     glBufferData(GL\_ARRAY\_BUFFER, \textcolor{keyword}{sizeof}(GLfloat)*vertices.size()*3,\&vertices[0], GL\_STATIC\_DRAW);}
\DoxyCodeLine{00035     \textcolor{comment}{//Points}}
\DoxyCodeLine{00036     glVertexAttribPointer(0,3,GL\_FLOAT,GL\_FALSE,0,(\textcolor{keywordtype}{void}*)0);}
\DoxyCodeLine{00037     glBindBuffer(GL\_ARRAY\_BUFFER,0);}
\DoxyCodeLine{00038 }
\DoxyCodeLine{00039     glGenBuffers(1,\&cbo);}
\DoxyCodeLine{00040     glBindBuffer(GL\_ARRAY\_BUFFER,cbo);}
\DoxyCodeLine{00041     glBufferData(GL\_ARRAY\_BUFFER,\textcolor{keyword}{sizeof}(GLfloat)*4*3,\&color[0],GL\_STATIC\_DRAW);}
\DoxyCodeLine{00042     glVertexAttribPointer(1,3,GL\_FLOAT,GL\_FALSE,0,(\textcolor{keywordtype}{void}*)0);}
\DoxyCodeLine{00043 }
\DoxyCodeLine{00044 }
\DoxyCodeLine{00045     \textcolor{comment}{//Unbind vbo}}
\DoxyCodeLine{00046     glBindBuffer(GL\_ARRAY\_BUFFER,0);}
\DoxyCodeLine{00047     glBindVertexArray(0);}
\DoxyCodeLine{00048     glEnableVertexAttribArray(0);}
\DoxyCodeLine{00049   \}}
\DoxyCodeLine{00050 }
\DoxyCodeLine{00051   \textcolor{keywordtype}{void} updateButton()\{}
\DoxyCodeLine{00052     std::reverse(color.begin(),color.end());}
\DoxyCodeLine{00053     glBindVertexArray(vao);}
\DoxyCodeLine{00054     glBindBuffer(GL\_ARRAY\_BUFFER,cbo);}
\DoxyCodeLine{00055     glBufferData(GL\_ARRAY\_BUFFER,\textcolor{keyword}{sizeof}(GLfloat)*4*3,\&color[0],GL\_STATIC\_DRAW);}
\DoxyCodeLine{00056 }
\DoxyCodeLine{00057   \}}
\DoxyCodeLine{00058 }
\DoxyCodeLine{00059   \textcolor{keywordtype}{void} render()\{}
\DoxyCodeLine{00060     \textcolor{keywordflow}{if}(count == 100)\{}
\DoxyCodeLine{00061       updateButton();}
\DoxyCodeLine{00062       count = 0;}
\DoxyCodeLine{00063     \textcolor{comment}{//  std::cout<<"{}flip"{}<<std::endl;}}
\DoxyCodeLine{00064     \}}
\DoxyCodeLine{00065     count++;}
\DoxyCodeLine{00066 }
\DoxyCodeLine{00067     shader.use();}
\DoxyCodeLine{00068     applyTransform();}
\DoxyCodeLine{00069     glBindVertexArray(vao);}
\DoxyCodeLine{00070     glEnableVertexAttribArray(0);}
\DoxyCodeLine{00071     glEnableVertexAttribArray(1);}
\DoxyCodeLine{00072 }
\DoxyCodeLine{00073     glBindBuffer(GL\_ELEMENT\_ARRAY\_BUFFER,ebo);}
\DoxyCodeLine{00074     glDrawElements(mode,indices.size(),GL\_UNSIGNED\_INT,0);}
\DoxyCodeLine{00075 }
\DoxyCodeLine{00076     glDisableVertexAttribArray(0);}
\DoxyCodeLine{00077     glDisableVertexAttribArray(1);}
\DoxyCodeLine{00078     glBindVertexArray(0);}
\DoxyCodeLine{00079   \}}
\DoxyCodeLine{00080 \};}

\end{DoxyCode}

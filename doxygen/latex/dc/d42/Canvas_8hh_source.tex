\hypertarget{Canvas_8hh_source}{}\doxysection{Canvas.\+hh}
\label{Canvas_8hh_source}\index{src/opengl/Canvas.hh@{src/opengl/Canvas.hh}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{00002 }
\DoxyCodeLine{00003 \textcolor{preprocessor}{\#include <cstring>}}
\DoxyCodeLine{00004 \textcolor{preprocessor}{\#include <vector>}}
\DoxyCodeLine{00005 }
\DoxyCodeLine{00006 \textcolor{preprocessor}{\#include "{}opengl/GLWin.hh"{}}}
\DoxyCodeLine{00007 \textcolor{preprocessor}{\#include "{}opengl/Shape.hh"{}}}
\DoxyCodeLine{00008 }
\DoxyCodeLine{00009 \textcolor{keyword}{class }\mbox{\hyperlink{classCamera}{Camera}};}
\DoxyCodeLine{00010 \textcolor{keyword}{class }\mbox{\hyperlink{classStyle}{Style}};}
\DoxyCodeLine{\Hypertarget{Canvas_8hh_source_l00011}\mbox{\hyperlink{classCanvas}{00011}} \textcolor{keyword}{class }\mbox{\hyperlink{classCanvas}{Canvas}} \{}
\DoxyCodeLine{00012  \textcolor{keyword}{protected}:}
\DoxyCodeLine{00013   \mbox{\hyperlink{classGLWin}{GLWin}}* w;}
\DoxyCodeLine{00014   std::vector<Shape*> layers;}
\DoxyCodeLine{00015   uint32\_t vpX, vpY, vpW, vpH;  \textcolor{comment}{// viewport}}
\DoxyCodeLine{00016   uint32\_t pX, pY;              \textcolor{comment}{// projection}}
\DoxyCodeLine{00017   glm::mat4 projection;         \textcolor{comment}{// the projection currently used}}
\DoxyCodeLine{00018   glm::mat4}
\DoxyCodeLine{00019       originalProjection;  \textcolor{comment}{// keep safe so you can reset to the original view}}
\DoxyCodeLine{00020   \textcolor{keyword}{const} \mbox{\hyperlink{classStyle}{Style}}* style;}
\DoxyCodeLine{00021   \mbox{\hyperlink{classCamera}{Camera}}* cam;}
\DoxyCodeLine{00022 }
\DoxyCodeLine{00023  \textcolor{keyword}{public}:}
\DoxyCodeLine{00024   \mbox{\hyperlink{classCanvas}{Canvas}}(\mbox{\hyperlink{classGLWin}{GLWin}}* w, \textcolor{keyword}{const} \mbox{\hyperlink{classStyle}{Style}}* style, uint32\_t vpX, uint32\_t vpY, uint32\_t vpW,}
\DoxyCodeLine{00025          uint32\_t vpH, uint32\_t pX, uint32\_t pY)}
\DoxyCodeLine{00026       :  \textcolor{comment}{// viewport, projection}}
\DoxyCodeLine{00027         w(w),}
\DoxyCodeLine{00028         style(style),}
\DoxyCodeLine{00029         vpX(vpX),}
\DoxyCodeLine{00030         vpY(vpY),}
\DoxyCodeLine{00031         vpW(vpW),}
\DoxyCodeLine{00032         vpH(vpH),}
\DoxyCodeLine{00033         pX(pX),}
\DoxyCodeLine{00034         pY(pY) \{}
\DoxyCodeLine{00035     projection =}
\DoxyCodeLine{00036         glm::ortho(0.0f, \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{float}\textcolor{keyword}{>}(pX), \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{float}\textcolor{keyword}{>}(pY), 0.0f);}
\DoxyCodeLine{00037     originalProjection = projection;}
\DoxyCodeLine{00038     \textcolor{comment}{//    projection = glm::scale(projection, glm::vec3(16, -\/16, 1));}}
\DoxyCodeLine{00039     \textcolor{comment}{//    projection = glm::translate(projection, glm::vec3(180, -\/90, 0));}}
\DoxyCodeLine{00040   \}}
\DoxyCodeLine{00041   \string~\mbox{\hyperlink{classCanvas}{Canvas}}();}
\DoxyCodeLine{00042   \mbox{\hyperlink{classCanvas}{Canvas}}(\textcolor{keyword}{const} \mbox{\hyperlink{classCanvas}{Canvas}}\& orig) = \textcolor{keyword}{delete};}
\DoxyCodeLine{00043   \mbox{\hyperlink{classCanvas}{Canvas}}\& operator=(\textcolor{keyword}{const} \mbox{\hyperlink{classCanvas}{Canvas}}\& orig) = \textcolor{keyword}{delete};}
\DoxyCodeLine{00044   uint32\_t getWidth()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} vpW; \}}
\DoxyCodeLine{00045   uint32\_t getHeight()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} vpH; \}}
\DoxyCodeLine{00046   \mbox{\hyperlink{classGLWin}{GLWin}}* getWin()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} w; \};}
\DoxyCodeLine{00047   glm::mat4* getProjection() \{ \textcolor{keywordflow}{return} \&projection; \}}
\DoxyCodeLine{00048   \textcolor{keywordtype}{void} setProjection(\textcolor{keyword}{const} glm::mat4\& proj) \{ projection = proj; \}}
\DoxyCodeLine{00049 }
\DoxyCodeLine{00050   \textcolor{keywordtype}{void} setOrthoProjection(\textcolor{keywordtype}{float} xLeft, \textcolor{keywordtype}{float} xRight, \textcolor{keywordtype}{float} yBottom,}
\DoxyCodeLine{00051                           \textcolor{keywordtype}{float} yTop) \{}
\DoxyCodeLine{00052     projection = glm::ortho(xLeft, xRight, yBottom, yTop);}
\DoxyCodeLine{00053   \}}
\DoxyCodeLine{00054   \mbox{\hyperlink{classCamera}{Camera}}* setLookAtProjection(\textcolor{keywordtype}{float} eyeX, \textcolor{keywordtype}{float} eyeY, \textcolor{keywordtype}{float} eyeZ, \textcolor{keywordtype}{float} lookAtX,}
\DoxyCodeLine{00055                               \textcolor{keywordtype}{float} lookAtY, \textcolor{keywordtype}{float} lookAtZ, \textcolor{keywordtype}{float} upX,}
\DoxyCodeLine{00056                               \textcolor{keywordtype}{float} upY, \textcolor{keywordtype}{float} upZ);}
\DoxyCodeLine{00057   \textcolor{keywordtype}{void} resetProjection() \{ projection = originalProjection; \}}
\DoxyCodeLine{00058 }
\DoxyCodeLine{00059   \textcolor{comment}{// Add layer pointer and return its index}}
\DoxyCodeLine{00060   \textcolor{keyword}{template} <\textcolor{keyword}{typename} S>}
\DoxyCodeLine{00061   S* addLayer(S* shape) \{}
\DoxyCodeLine{00062     layers.push\_back(shape);}
\DoxyCodeLine{00063     \textcolor{keywordflow}{return} shape;}
\DoxyCodeLine{00064   \}}
\DoxyCodeLine{00065 }
\DoxyCodeLine{00066   \mbox{\hyperlink{classShape}{Shape}}* getLayer(uint32\_t i) \{}
\DoxyCodeLine{00067     \textcolor{keywordflow}{if} (i < layers.size()) \textcolor{keywordflow}{return} layers[i];}
\DoxyCodeLine{00068     \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00069   \}}
\DoxyCodeLine{00070 }
\DoxyCodeLine{00071   \textcolor{keywordtype}{void} init() \{}
\DoxyCodeLine{00072     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < layers.size(); i++) \{}
\DoxyCodeLine{00073       layers[i]-\/>init();}
\DoxyCodeLine{00074     \}}
\DoxyCodeLine{00075   \}}
\DoxyCodeLine{00076 }
\DoxyCodeLine{00077   \textcolor{keywordtype}{void} process\_input(Inputs* in, \textcolor{keywordtype}{float} dt) \{}
\DoxyCodeLine{00078     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < layers.size(); i++) \{}
\DoxyCodeLine{00079       layers[i]-\/>process\_input(in, dt);}
\DoxyCodeLine{00080     \}}
\DoxyCodeLine{00081   \}}
\DoxyCodeLine{00082 }
\DoxyCodeLine{00083   \textcolor{keywordtype}{void} update() \{}
\DoxyCodeLine{00084     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < layers.size(); i++) \{}
\DoxyCodeLine{00085       layers[i]-\/>update();}
\DoxyCodeLine{00086     \}}
\DoxyCodeLine{00087   \}}
\DoxyCodeLine{00088 }
\DoxyCodeLine{00089   \textcolor{keyword}{const} \mbox{\hyperlink{classStyle}{Style}}* getStyle()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} style; \}}
\DoxyCodeLine{00090 }
\DoxyCodeLine{00091   \textcolor{keywordtype}{void} render();}
\DoxyCodeLine{00092 }
\DoxyCodeLine{00093   \textcolor{keywordtype}{void} cleanup();}
\DoxyCodeLine{00094 \};}
\DoxyCodeLine{00095 }
\DoxyCodeLine{00096 \textcolor{keyword}{class }\mbox{\hyperlink{classStyledMultiShape2D}{StyledMultiShape2D}};}
\DoxyCodeLine{00097 \textcolor{keyword}{class }\mbox{\hyperlink{classMultiText}{MultiText}};}
\DoxyCodeLine{00098 }
\DoxyCodeLine{\Hypertarget{Canvas_8hh_source_l00099}\mbox{\hyperlink{classMainCanvas}{00099}} \textcolor{keyword}{class }\mbox{\hyperlink{classMainCanvas}{MainCanvas}} : \textcolor{keyword}{public} \mbox{\hyperlink{classCanvas}{Canvas}} \{}
\DoxyCodeLine{00100  \textcolor{keyword}{private}:}
\DoxyCodeLine{00101   \mbox{\hyperlink{classStyledMultiShape2D}{StyledMultiShape2D}}* gui;}
\DoxyCodeLine{00102   \mbox{\hyperlink{classMultiText}{MultiText}}* guiText;}
\DoxyCodeLine{00103   \mbox{\hyperlink{classStyledMultiShape2D}{StyledMultiShape2D}}* menu;}
\DoxyCodeLine{00104   \mbox{\hyperlink{classMultiText}{MultiText}}* menuText;}
\DoxyCodeLine{00105 }
\DoxyCodeLine{00106  \textcolor{keyword}{public}:}
\DoxyCodeLine{00107   \mbox{\hyperlink{classMainCanvas}{MainCanvas}}(\mbox{\hyperlink{classGLWin}{GLWin}}* parent);}
\DoxyCodeLine{00108   \string~\mbox{\hyperlink{classMainCanvas}{MainCanvas}}();}
\DoxyCodeLine{00109   \mbox{\hyperlink{classMainCanvas}{MainCanvas}}(\textcolor{keyword}{const} \mbox{\hyperlink{classMainCanvas}{MainCanvas}}\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{00110   \mbox{\hyperlink{classMainCanvas}{MainCanvas}}\& operator=(\textcolor{keyword}{const} \mbox{\hyperlink{classMainCanvas}{MainCanvas}}\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{00111   \mbox{\hyperlink{classStyledMultiShape2D}{StyledMultiShape2D}}* getGui() \{ \textcolor{keywordflow}{return} gui; \}}
\DoxyCodeLine{00112   \mbox{\hyperlink{classMultiText}{MultiText}}* getGuiText() \{ \textcolor{keywordflow}{return} guiText; \}}
\DoxyCodeLine{00113   \mbox{\hyperlink{classStyledMultiShape2D}{StyledMultiShape2D}}* getMenu() \{ \textcolor{keywordflow}{return} menu; \}}
\DoxyCodeLine{00114   \mbox{\hyperlink{classMultiText}{MultiText}}* getMenuText() \{ \textcolor{keywordflow}{return} menuText; \}}
\DoxyCodeLine{00115 }
\DoxyCodeLine{00116   \textcolor{keywordtype}{void} init();}
\DoxyCodeLine{00117   \textcolor{keywordtype}{void} render();}
\DoxyCodeLine{00118   \textcolor{keywordtype}{void} cleanup();}
\DoxyCodeLine{00119 }
\DoxyCodeLine{00120   \textcolor{keywordtype}{void} addButton(\textcolor{keyword}{const} \textcolor{keywordtype}{char} text[], \textcolor{keywordtype}{float} x, \textcolor{keywordtype}{float} y, \textcolor{keywordtype}{float} w, \textcolor{keywordtype}{float} h);}
\DoxyCodeLine{00121   \textcolor{keywordtype}{void} addLabel(\textcolor{keyword}{const} \textcolor{keywordtype}{char} text[], \textcolor{keywordtype}{float} x, \textcolor{keywordtype}{float} y, \textcolor{keywordtype}{float} w, \textcolor{keywordtype}{float} h);}
\DoxyCodeLine{00122   \textcolor{keywordtype}{void} addMenu(\textcolor{keyword}{const} std::string menu[], uint32\_t numStrings, \textcolor{keywordtype}{float} x, \textcolor{keywordtype}{float} y);}
\DoxyCodeLine{00123 \};}

\end{DoxyCode}
